<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<title>Survey</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
		

	</head>

	<body>
		<div class="jumbotron jumbotron-fluid">
		  <div class="container">
		    <h1 class="display-4 text-center">Survey Questions</h1>
		  </div>
		</div>
		

		<form class="container">

			<div class="form-group">
				<h5>Name</h5>
				<input type="text" class="form-control" id="userName">
			</div>

			<div class="form-group">
				<h5>Picture</h5>
				<input type="text" class="form-control" placeholder="image link" id="userPic">
			</div>			
			
			<div>
				<h6>Use the drop downs to select your answer. 1 being you strongly disagree and 5 being you strongly agree.</h6>
			</div>
			<div class="form-group">
				<label for="q1">1. Do you like breakfast?</label>
				    <select class="form-control" id="q1">
				      <option>1</option>
				      <option>2</option>
				      <option>3</option>
				      <option>4</option>
				      <option>5</option>
				    </select>
			    <label for="q12">2. Do you like breakfast?</label>
			        <select class="form-control" id="q2">
			          <option>1</option>
			          <option>2</option>
			          <option>3</option>
			          <option>4</option>
			          <option>5</option>
			        </select>
	        	<label for="q3">3. Are you an organized person?</label>
	        	    <select class="form-control" id="q3">
	        	      <option>1</option>
	        	      <option>2</option>
	        	      <option>3</option>
	        	      <option>4</option>
	        	      <option>5</option>
	        	    </select>
	            <label for="q4">4. Do you like programming?</label>
	                <select class="form-control" id="q4">
	                  <option>1</option>
	                  <option>2</option>
	                  <option>3</option>
	                  <option>4</option>
	                  <option>5</option>
	                </select>
		        <label for="q5">5. Do you like coffee?</label>
				    <select class="form-control" id="q5">
				      <option>1</option>
				      <option>2</option>
				      <option>3</option>
				      <option>4</option>
				      <option>5</option>
				    </select>
			    <label for="q6">6. Is Star Wars better than Star Trek?</label>
			        <select class="form-control" id="q6">
			          <option>1</option>
			          <option>2</option>
			          <option>3</option>
			          <option>4</option>
			          <option>5</option>
			        </select>
	        	<label for="q7">7. Do you like soccer?</label>
	        	    <select class="form-control" id="q7">
	        	      <option>1</option>
	        	      <option>2</option>
	        	      <option>3</option>
	        	      <option>4</option>
	        	      <option>5</option>
	        	    </select>
	            <label for="q8">8. Is a hot dog a sandwich?</label>
	                <select class="form-control" id="q8">
	                  <option>1</option>
	                  <option>2</option>
	                  <option>3</option>
	                  <option>4</option>
	                  <option>5</option>
	                </select>
                <label for="q9">9. The chicken came before the egg.</label>
        	    	<select class="form-control" id="q9">
        	     		<option>1</option>
        	      		<option>2</option>
        	      		<option>3</option>
        	      		<option>4</option>
        	      	<option>5</option>
        	    </select>
            <label for="q10">10. Does pepperoni belong on pizza?</label>
	                <select class="form-control" id="q10">
	                  	<option>1</option>
	                  	<option>2</option>
	                  	<option>3</option>
	                  	<option>4</option>
	                  	<option>5</option>
	                </select>
            <button type="submit" class="btn btn-primary" id="submit-btn">Submit</button>
		</form>


		<footer class="text-center">
			<hr class="my-4">
			<a href="/api/friends">API Friends List </a>|
			<a href="https://github.com/dgallardo06/Friend-Finder" target="_blank"> GitHub Repo</a>
		</footer>
	</body>
</html>

<script type="text/javascript">
	$("#submit-btn").on("click", function(event){
		event.preventDefault();

		var newEntry = {
			name: $("#userName").val().trim(),
			photo: $("#userPic").val().trim(),
			scores: [
				$("#q1").val(),
				$("#q2").val(),
				$("#q3").val(),
				$("#q4").val(),
				$("#q5").val(),
				$("#q6").val(),
				$("#q7").val(),
				$("#q8").val(),
				$("#q9").val(),
				$("#q10").val()
			]
		};

		console.log(newEntry);

		var currentURL = window.location.origin;
		//AJAX posts the data to friends API.
		$.post(currentURL + "/api/friends", newFriend, function(data) {
		    //Grab the result from the AJAX post so that the best match's name and photo are displayed.
		    $("#matchName").text(data.name);
		    $("#matchPic").attr("src", data.profilePic);
		});
		// Show the modal with the best match
		    $('.modal').modal();
		//clear form after submission
		$('#name').val("");
		$('#photo').val("");
		$('#q1').val("");
		$('#q2').val("");
		$('#q3').val("");
		$('#q4').val("");
		$('#q5').val("");
		$('#q6').val("");
		$('#q7').val("");
		$('#q8').val("");
		$('#q9').val("");
		$('#q10').val("");
	});


</script>